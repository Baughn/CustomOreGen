
<!--**************  CustomOreGen Biomes O Plenty Ores Module ***********************
* 
*   This file contains Presets, Options, and Distributions for Biomes O Plenty ores.
*
******************************************************************************--> 

<!-- 
Ores included in this configuration: 

Amathyst, Ruby, Peridot, Topaz, Tanzanite, Apatite, Sapphire
--> 
<ConfigSection>

    <!-- Options and Symbols -->

    <ConfigSection> 
        <OptionDisplayGroup name='groupbiomesOPlenty' displayName='Biomes O Plenty Ores' displayState='shown'> 
            <Description> 
                Distribution options for Biomes O Plenty Ores.
            </Description>
        </OptionDisplayGroup>
    
         <ConfigSection>
          
          <!-- Amathyst Configuration UI -->
          
          <OptionChoice name='bopAmathystDist' default='layeredVeins' displayState='shown' displayGroup='groupbiomesOPlenty'> 
              <Description> Controls how Amathyst is generated </Description> 
              <DisplayName>Biomes O Plenty Amathyst Type</DisplayName>
              <Choice value='layeredVeins' displayValue='Veins'>
                  <Description>
                      Veins of Ore leading to a Motherlode.  Most realistic placement. 
                  </Description>
              </Choice>
              <Choice value='strategicClouds' displayValue='Clouds'>
                  <Description>
                      Rare, sparsely populated clouds of ore extending over several chunks.
                  </Description>
              </Choice>
              <Choice value='vanillaStdGen' displayValue='Clusters'>
                  <Description>
                      Small evenly scattered clusters of ore.  This is the vanilla Amathyst generation.
                  </Description>
              </Choice>
              <Choice value='none' displayValue='None' description='No Amathyst is generated at all.'/>
          </OptionChoice>
            
          <OptionNumeric name='bopAmathystFreq' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Frequency multiplier for Biomes O Plenty Amathyst distributions </Description>
              <DisplayName>Biomes O Plenty Amathyst Freq.</DisplayName>
          </OptionNumeric>
            
          <OptionNumeric name='bopAmathystSize' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Size multiplier for Biomes O Plenty Amathyst distributions </Description>
              <DisplayName>Biomes O Plenty Amathyst Size</DisplayName>
          </OptionNumeric>
           <!-- Amathyst Mystcraft Symbols -->
      
          <MystcraftSymbol name='bopAmathystClusters' displayName='Amathyst Clusters'/>
          <MystcraftSymbol name='bopAmathystVeins' displayName='Amathyst Veins'/>
          <MystcraftSymbol name='bopAmathystClouds' displayName='Amathyst Clouds'>
              <Instability>:= 50 * (age.bopAmathystClusters + age.bopAmathystVeins + age.bopAmathystClouds - 1)^3</Instability>
          </MystcraftSymbol>
          
         </ConfigSection>
                <ConfigSection>
          
          <!-- Ruby Configuration UI -->
          
          <OptionChoice name='bopRubyDist' default='layeredVeins' displayState='shown' displayGroup='groupbiomesOPlenty'> 
              <Description> Controls how Ruby is generated </Description> 
              <DisplayName>Biomes O Plenty Ruby Type</DisplayName>
              <Choice value='layeredVeins' displayValue='Veins'>
                  <Description>
                      Veins of Ore leading to a Motherlode.  Most realistic placement. 
                  </Description>
              </Choice>
              <Choice value='strategicClouds' displayValue='Clouds'>
                  <Description>
                      Rare, sparsely populated clouds of ore extending over several chunks.
                  </Description>
              </Choice>
              <Choice value='vanillaStdGen' displayValue='Clusters'>
                  <Description>
                      Small evenly scattered clusters of ore.  This is the vanilla Ruby generation.
                  </Description>
              </Choice>
              <Choice value='none' displayValue='None' description='No Ruby is generated at all.'/>
          </OptionChoice>
            
          <OptionNumeric name='bopRubyFreq' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Frequency multiplier for Biomes O Plenty Ruby distributions </Description>
              <DisplayName>Biomes O Plenty Ruby Freq.</DisplayName>
          </OptionNumeric>
            
          <OptionNumeric name='bopRubySize' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Size multiplier for Biomes O Plenty Ruby distributions </Description>
              <DisplayName>Biomes O Plenty Ruby Size</DisplayName>
          </OptionNumeric>
           <!-- Ruby Mystcraft Symbols -->
      
          <MystcraftSymbol name='bopRubyClusters' displayName='Ruby Clusters'/>
          <MystcraftSymbol name='bopRubyVeins' displayName='Ruby Veins'/>
          <MystcraftSymbol name='bopRubyClouds' displayName='Ruby Clouds'>
              <Instability>:= 50 * (age.bopRubyClusters + age.bopRubyVeins + age.bopRubyClouds - 1)^3</Instability>
          </MystcraftSymbol>
          
         </ConfigSection>
                <ConfigSection>
          
          <!-- Peridot Configuration UI -->
          
          <OptionChoice name='bopPeridotDist' default='layeredVeins' displayState='shown' displayGroup='groupbiomesOPlenty'> 
              <Description> Controls how Peridot is generated </Description> 
              <DisplayName>Biomes O Plenty Peridot Type</DisplayName>
              <Choice value='layeredVeins' displayValue='Veins'>
                  <Description>
                      Veins of Ore leading to a Motherlode.  Most realistic placement. 
                  </Description>
              </Choice>
              <Choice value='strategicClouds' displayValue='Clouds'>
                  <Description>
                      Rare, sparsely populated clouds of ore extending over several chunks.
                  </Description>
              </Choice>
              <Choice value='vanillaStdGen' displayValue='Clusters'>
                  <Description>
                      Small evenly scattered clusters of ore.  This is the vanilla Peridot generation.
                  </Description>
              </Choice>
              <Choice value='none' displayValue='None' description='No Peridot is generated at all.'/>
          </OptionChoice>
            
          <OptionNumeric name='bopPeridotFreq' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Frequency multiplier for Biomes O Plenty Peridot distributions </Description>
              <DisplayName>Biomes O Plenty Peridot Freq.</DisplayName>
          </OptionNumeric>
            
          <OptionNumeric name='bopPeridotSize' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Size multiplier for Biomes O Plenty Peridot distributions </Description>
              <DisplayName>Biomes O Plenty Peridot Size</DisplayName>
          </OptionNumeric>
           <!-- Peridot Mystcraft Symbols -->
      
          <MystcraftSymbol name='bopPeridotClusters' displayName='Peridot Clusters'/>
          <MystcraftSymbol name='bopPeridotVeins' displayName='Peridot Veins'/>
          <MystcraftSymbol name='bopPeridotClouds' displayName='Peridot Clouds'>
              <Instability>:= 50 * (age.bopPeridotClusters + age.bopPeridotVeins + age.bopPeridotClouds - 1)^3</Instability>
          </MystcraftSymbol>
          
         </ConfigSection>
                <ConfigSection>
          
          <!-- Topaz Configuration UI -->
          
          <OptionChoice name='bopTopazDist' default='layeredVeins' displayState='shown' displayGroup='groupbiomesOPlenty'> 
              <Description> Controls how Topaz is generated </Description> 
              <DisplayName>Biomes O Plenty Topaz Type</DisplayName>
              <Choice value='layeredVeins' displayValue='Veins'>
                  <Description>
                      Veins of Ore leading to a Motherlode.  Most realistic placement. 
                  </Description>
              </Choice>
              <Choice value='strategicClouds' displayValue='Clouds'>
                  <Description>
                      Rare, sparsely populated clouds of ore extending over several chunks.
                  </Description>
              </Choice>
              <Choice value='vanillaStdGen' displayValue='Clusters'>
                  <Description>
                      Small evenly scattered clusters of ore.  This is the vanilla Topaz generation.
                  </Description>
              </Choice>
              <Choice value='none' displayValue='None' description='No Topaz is generated at all.'/>
          </OptionChoice>
            
          <OptionNumeric name='bopTopazFreq' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Frequency multiplier for Biomes O Plenty Topaz distributions </Description>
              <DisplayName>Biomes O Plenty Topaz Freq.</DisplayName>
          </OptionNumeric>
            
          <OptionNumeric name='bopTopazSize' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Size multiplier for Biomes O Plenty Topaz distributions </Description>
              <DisplayName>Biomes O Plenty Topaz Size</DisplayName>
          </OptionNumeric>
           <!-- Topaz Mystcraft Symbols -->
      
          <MystcraftSymbol name='bopTopazClusters' displayName='Topaz Clusters'/>
          <MystcraftSymbol name='bopTopazVeins' displayName='Topaz Veins'/>
          <MystcraftSymbol name='bopTopazClouds' displayName='Topaz Clouds'>
              <Instability>:= 50 * (age.bopTopazClusters + age.bopTopazVeins + age.bopTopazClouds - 1)^3</Instability>
          </MystcraftSymbol>
          
         </ConfigSection>
                <ConfigSection>
          
          <!-- Tanzanite Configuration UI -->
          
          <OptionChoice name='bopTanzaniteDist' default='layeredVeins' displayState='shown' displayGroup='groupbiomesOPlenty'> 
              <Description> Controls how Tanzanite is generated </Description> 
              <DisplayName>Biomes O Plenty Tanzanite Type</DisplayName>
              <Choice value='layeredVeins' displayValue='Veins'>
                  <Description>
                      Veins of Ore leading to a Motherlode.  Most realistic placement. 
                  </Description>
              </Choice>
              <Choice value='strategicClouds' displayValue='Clouds'>
                  <Description>
                      Rare, sparsely populated clouds of ore extending over several chunks.
                  </Description>
              </Choice>
              <Choice value='vanillaStdGen' displayValue='Clusters'>
                  <Description>
                      Small evenly scattered clusters of ore.  This is the vanilla Tanzanite generation.
                  </Description>
              </Choice>
              <Choice value='none' displayValue='None' description='No Tanzanite is generated at all.'/>
          </OptionChoice>
            
          <OptionNumeric name='bopTanzaniteFreq' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Frequency multiplier for Biomes O Plenty Tanzanite distributions </Description>
              <DisplayName>Biomes O Plenty Tanzanite Freq.</DisplayName>
          </OptionNumeric>
            
          <OptionNumeric name='bopTanzaniteSize' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Size multiplier for Biomes O Plenty Tanzanite distributions </Description>
              <DisplayName>Biomes O Plenty Tanzanite Size</DisplayName>
          </OptionNumeric>
           <!-- Tanzanite Mystcraft Symbols -->
      
          <MystcraftSymbol name='bopTanzaniteClusters' displayName='Tanzanite Clusters'/>
          <MystcraftSymbol name='bopTanzaniteVeins' displayName='Tanzanite Veins'/>
          <MystcraftSymbol name='bopTanzaniteClouds' displayName='Tanzanite Clouds'>
              <Instability>:= 50 * (age.bopTanzaniteClusters + age.bopTanzaniteVeins + age.bopTanzaniteClouds - 1)^3</Instability>
          </MystcraftSymbol>
          
         </ConfigSection>
                <ConfigSection>
          
          <!-- Apatite Configuration UI -->
          
          <OptionChoice name='bopApatiteDist' default='layeredVeins' displayState='shown' displayGroup='groupbiomesOPlenty'> 
              <Description> Controls how Apatite is generated </Description> 
              <DisplayName>Biomes O Plenty Apatite Type</DisplayName>
              <Choice value='layeredVeins' displayValue='Veins'>
                  <Description>
                      Veins of Ore leading to a Motherlode.  Most realistic placement. 
                  </Description>
              </Choice>
              <Choice value='strategicClouds' displayValue='Clouds'>
                  <Description>
                      Rare, sparsely populated clouds of ore extending over several chunks.
                  </Description>
              </Choice>
              <Choice value='vanillaStdGen' displayValue='Clusters'>
                  <Description>
                      Small evenly scattered clusters of ore.  This is the vanilla Apatite generation.
                  </Description>
              </Choice>
              <Choice value='none' displayValue='None' description='No Apatite is generated at all.'/>
          </OptionChoice>
            
          <OptionNumeric name='bopApatiteFreq' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Frequency multiplier for Biomes O Plenty Apatite distributions </Description>
              <DisplayName>Biomes O Plenty Apatite Freq.</DisplayName>
          </OptionNumeric>
            
          <OptionNumeric name='bopApatiteSize' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Size multiplier for Biomes O Plenty Apatite distributions </Description>
              <DisplayName>Biomes O Plenty Apatite Size</DisplayName>
          </OptionNumeric>
           <!-- Apatite Mystcraft Symbols -->
      
          <MystcraftSymbol name='bopApatiteClusters' displayName='Apatite Clusters'/>
          <MystcraftSymbol name='bopApatiteVeins' displayName='Apatite Veins'/>
          <MystcraftSymbol name='bopApatiteClouds' displayName='Apatite Clouds'>
              <Instability>:= 50 * (age.bopApatiteClusters + age.bopApatiteVeins + age.bopApatiteClouds - 1)^3</Instability>
          </MystcraftSymbol>
          
         </ConfigSection>
                <ConfigSection>
          
          <!-- Sapphire Configuration UI -->
          
          <OptionChoice name='bopSapphireDist' default='layeredVeins' displayState='shown' displayGroup='groupbiomesOPlenty'> 
              <Description> Controls how Sapphire is generated </Description> 
              <DisplayName>Biomes O Plenty Sapphire Type</DisplayName>
              <Choice value='layeredVeins' displayValue='Veins'>
                  <Description>
                      Veins of Ore leading to a Motherlode.  Most realistic placement. 
                  </Description>
              </Choice>
              <Choice value='strategicClouds' displayValue='Clouds'>
                  <Description>
                      Rare, sparsely populated clouds of ore extending over several chunks.
                  </Description>
              </Choice>
              <Choice value='vanillaStdGen' displayValue='Clusters'>
                  <Description>
                      Small evenly scattered clusters of ore.  This is the vanilla Sapphire generation.
                  </Description>
              </Choice>
              <Choice value='none' displayValue='None' description='No Sapphire is generated at all.'/>
          </OptionChoice>
            
          <OptionNumeric name='bopSapphireFreq' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Frequency multiplier for Biomes O Plenty Sapphire distributions </Description>
              <DisplayName>Biomes O Plenty Sapphire Freq.</DisplayName>
          </OptionNumeric>
            
          <OptionNumeric name='bopSapphireSize' default='1'  min='0' max='5' displayState='hidden' displayGroup='groupbiomesOPlenty'>
              <Description> Size multiplier for Biomes O Plenty Sapphire distributions </Description>
              <DisplayName>Biomes O Plenty Sapphire Size</DisplayName>
          </OptionNumeric>
           <!-- Sapphire Mystcraft Symbols -->
      
          <MystcraftSymbol name='bopSapphireClusters' displayName='Sapphire Clusters'/>
          <MystcraftSymbol name='bopSapphireVeins' displayName='Sapphire Veins'/>
          <MystcraftSymbol name='bopSapphireClouds' displayName='Sapphire Clouds'>
              <Instability>:= 50 * (age.bopSapphireClusters + age.bopSapphireVeins + age.bopSapphireClouds - 1)^3</Instability>
          </MystcraftSymbol>
          
         </ConfigSection>
            </ConfigSection> 
    
    <IfCondition condition=':= dimension.generator = "RandomLevelSource"'>
    
        <!-- Normal World Deposit Removal -->
        <Substitute name='biomesOPlentyOreSubstitute' block='stone'>
            <Description> 
                Replace default-generated Biomes O Plenty ore clusters with stone.
            </Description>
            <Comment>
                The global option deferredPopulationRange must be large enough to catch all ore clusters (>= 32)
            </Comment>
            <Replaces block='bop.amethystOre'/>
        </Substitute>
                <ConfigSection>
        
            <IfCondition condition=':= if(age, age.bopAmathystClusters > 0, bopAmathystDist = "vanillaStdGen")'>
                <StandardGen name='bopAmathystStandard' block='bop.amethystOre' inherits='PresetStandardGen'> 
                    <Description> Equivalent to vanilla minecraft Amathyst distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='Size' avg=':= bopAmathystSize * _default_'/> 
                    <Setting name='Frequency' avg=':= 0.1 * bopAmathystFreq * if(age,age.bopAmathystClusters,1) * _default_'/>
                    <Setting name='Height' avg=':= 16/64 * dimension.groundLevel' range=':= 16/64 * dimension.groundLevel'/>
                    <Replaces block='stone'/>
                </StandardGen> 
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopAmathystVeins > 0, bopAmathystDist = "layeredVeins")'>
                <Veins name='bopAmathystVeins' block='bop.amethystOre' inherits='PresetLayeredVeins'> 
                    <Description> 
                        Amathyst spawns in the height 10-30 range.  The veins are shorter than average,
                        and much rarer overall.  Amathyst is not easy to find.
                    </Description>  
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='MotherlodeFrequency' avg=':= 0.85 * bopAmathystFreq * if(age,age.bopAmathystVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize' avg=':= 0.8 * bopAmathystSize * _default_' range=':= 0.5 * bopAmathystSize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 20/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel' type='normal'/>
                    <Setting name='BranchHeightLimit' avg='10'/>  
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_'/> 
                    <Setting name='BranchLength' avg=':= 0.75 * _default_' range=':= 0.66 * _default_'/>
                    <Setting name='SegmentRadius' avg=':= 0.7 * bopAmathystSize * _default_' range=':= 0.5 * bopAmathystSize * _default_'/>
                    <Setting name='SegmentAngle' avg='0.6' range='0.40' /> 
                    <Replaces block='stone'/>
                </Veins>
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopAmathystClouds > 0, bopAmathystDist = "strategicClouds")'>
                <Cloud name='bopAmathystCloud' block='bop.amethystOre' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse Amathyst cloud surrounded by single-block "hint" veins.
                    </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='DistributionFrequency' avg=':= 4.5 * bopAmathystFreq * if(age,age.bopAmathystClouds,1) * _default_'/>
                    <Setting name='CloudRadius' avg=':= 0.8 * bopAmathystSize * _default_' range=':= 0.8 * bopAmathystSize * _default_'/>
                    <Setting name='CloudThickness' avg=':= 0.8 * bopAmathystSize * _default_' range=':= bopAmathystSize * _default_'/>
                    <Setting name='OreDensity' avg=':= 0.3 * _default_'/> 
                    <Replaces block='stone'/>
                    <Veins name='bopAmathystHintVeins' block='bop.amethystOre' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x60e25d21</WireframeColor>
                        <Setting name='MotherlodeFrequency' avg=':= 0.3 * _default_' range=':= _default_'/>
                        <Setting name='MotherlodeRangeLimit' avg=':= 0.75 * bopAmathystSize * _default_' range=':= 0.65 * bopAmathystSize * _default_'/>
                        <Replaces block='stone'/>
                    </Veins>             
                </Cloud>
            </IfCondition> 
        </ConfigSection>
        <ConfigSection>
        
            <IfCondition condition=':= if(age, age.bopRubyClusters > 0, bopRubyDist = "vanillaStdGen")'>
                <StandardGen name='bopRubyStandard' block='bop.amethystOre:2' inherits='PresetStandardGen'> 
                    <Description> Equivalent to vanilla minecraft Ruby distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='Size' avg=':= bopRubySize * _default_'/> 
                    <Setting name='Frequency' avg=':= 0.1 * bopRubyFreq * if(age,age.bopRubyClusters,1) * _default_'/>
                    <Setting name='Height' avg=':= 16/64 * dimension.groundLevel' range=':= 16/64 * dimension.groundLevel'/>
                    <Replaces block='stone'/>
                </StandardGen> 
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopRubyVeins > 0, bopRubyDist = "layeredVeins")'>
                <Veins name='bopRubyVeins' block='bop.amethystOre:2' inherits='PresetLayeredVeins'> 
                    <Description> 
                        Ruby spawns in the height 10-30 range.  The veins are shorter than average,
                        and much rarer overall.  Ruby is not easy to find.
                    </Description>  
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='MotherlodeFrequency' avg=':= 0.85 * bopRubyFreq * if(age,age.bopRubyVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize' avg=':= 0.8 * bopRubySize * _default_' range=':= 0.5 * bopRubySize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 20/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel' type='normal'/>
                    <Setting name='BranchHeightLimit' avg='10'/>  
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_'/> 
                    <Setting name='BranchLength' avg=':= 0.75 * _default_' range=':= 0.66 * _default_'/>
                    <Setting name='SegmentRadius' avg=':= 0.7 * bopRubySize * _default_' range=':= 0.5 * bopRubySize * _default_'/>
                    <Setting name='SegmentAngle' avg='0.6' range='0.40' /> 
                    <Replaces block='stone'/>
                </Veins>
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopRubyClouds > 0, bopRubyDist = "strategicClouds")'>
                <Cloud name='bopRubyCloud' block='bop.amethystOre:2' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse Ruby cloud surrounded by single-block "hint" veins.
                    </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='DistributionFrequency' avg=':= 4.5 * bopRubyFreq * if(age,age.bopRubyClouds,1) * _default_'/>
                    <Setting name='CloudRadius' avg=':= 0.8 * bopRubySize * _default_' range=':= 0.8 * bopRubySize * _default_'/>
                    <Setting name='CloudThickness' avg=':= 0.8 * bopRubySize * _default_' range=':= bopRubySize * _default_'/>
                    <Setting name='OreDensity' avg=':= 0.3 * _default_'/> 
                    <Replaces block='stone'/>
                    <Veins name='bopRubyHintVeins' block='bop.amethystOre:2' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x60e25d21</WireframeColor>
                        <Setting name='MotherlodeFrequency' avg=':= 0.3 * _default_' range=':= _default_'/>
                        <Setting name='MotherlodeRangeLimit' avg=':= 0.75 * bopRubySize * _default_' range=':= 0.65 * bopRubySize * _default_'/>
                        <Replaces block='stone'/>
                    </Veins>             
                </Cloud>
            </IfCondition> 
        </ConfigSection>
        <ConfigSection>
        
            <IfCondition condition=':= if(age, age.bopPeridotClusters > 0, bopPeridotDist = "vanillaStdGen")'>
                <StandardGen name='bopPeridotStandard' block='bop.amethystOre:4' inherits='PresetStandardGen'> 
                    <Description> Equivalent to vanilla minecraft Peridot distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='Size' avg=':= bopPeridotSize * _default_'/> 
                    <Setting name='Frequency' avg=':= 0.1 * bopPeridotFreq * if(age,age.bopPeridotClusters,1) * _default_'/>
                    <Setting name='Height' avg=':= 16/64 * dimension.groundLevel' range=':= 16/64 * dimension.groundLevel'/>
                    <Replaces block='stone'/>
                </StandardGen> 
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopPeridotVeins > 0, bopPeridotDist = "layeredVeins")'>
                <Veins name='bopPeridotVeins' block='bop.amethystOre:4' inherits='PresetLayeredVeins'> 
                    <Description> 
                        Peridot spawns in the height 10-30 range.  The veins are shorter than average,
                        and much rarer overall.  Peridot is not easy to find.
                    </Description>  
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='MotherlodeFrequency' avg=':= 0.85 * bopPeridotFreq * if(age,age.bopPeridotVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize' avg=':= 0.8 * bopPeridotSize * _default_' range=':= 0.5 * bopPeridotSize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 20/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel' type='normal'/>
                    <Setting name='BranchHeightLimit' avg='10'/>  
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_'/> 
                    <Setting name='BranchLength' avg=':= 0.75 * _default_' range=':= 0.66 * _default_'/>
                    <Setting name='SegmentRadius' avg=':= 0.7 * bopPeridotSize * _default_' range=':= 0.5 * bopPeridotSize * _default_'/>
                    <Setting name='SegmentAngle' avg='0.6' range='0.40' /> 
                    <Replaces block='stone'/>
                </Veins>
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopPeridotClouds > 0, bopPeridotDist = "strategicClouds")'>
                <Cloud name='bopPeridotCloud' block='bop.amethystOre:4' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse Peridot cloud surrounded by single-block "hint" veins.
                    </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='DistributionFrequency' avg=':= 4.5 * bopPeridotFreq * if(age,age.bopPeridotClouds,1) * _default_'/>
                    <Setting name='CloudRadius' avg=':= 0.8 * bopPeridotSize * _default_' range=':= 0.8 * bopPeridotSize * _default_'/>
                    <Setting name='CloudThickness' avg=':= 0.8 * bopPeridotSize * _default_' range=':= bopPeridotSize * _default_'/>
                    <Setting name='OreDensity' avg=':= 0.3 * _default_'/> 
                    <Replaces block='stone'/>
                    <Veins name='bopPeridotHintVeins' block='bop.amethystOre:4' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x60e25d21</WireframeColor>
                        <Setting name='MotherlodeFrequency' avg=':= 0.3 * _default_' range=':= _default_'/>
                        <Setting name='MotherlodeRangeLimit' avg=':= 0.75 * bopPeridotSize * _default_' range=':= 0.65 * bopPeridotSize * _default_'/>
                        <Replaces block='stone'/>
                    </Veins>             
                </Cloud>
            </IfCondition> 
        </ConfigSection>
        <ConfigSection>
        
            <IfCondition condition=':= if(age, age.bopTopazClusters > 0, bopTopazDist = "vanillaStdGen")'>
                <StandardGen name='bopTopazStandard' block='bop.amethystOre:6' inherits='PresetStandardGen'> 
                    <Description> Equivalent to vanilla minecraft Topaz distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='Size' avg=':= bopTopazSize * _default_'/> 
                    <Setting name='Frequency' avg=':= 0.1 * bopTopazFreq * if(age,age.bopTopazClusters,1) * _default_'/>
                    <Setting name='Height' avg=':= 16/64 * dimension.groundLevel' range=':= 16/64 * dimension.groundLevel'/>
                    <Replaces block='stone'/>
                </StandardGen> 
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopTopazVeins > 0, bopTopazDist = "layeredVeins")'>
                <Veins name='bopTopazVeins' block='bop.amethystOre:6' inherits='PresetLayeredVeins'> 
                    <Description> 
                        Topaz spawns in the height 10-30 range.  The veins are shorter than average,
                        and much rarer overall.  Topaz is not easy to find.
                    </Description>  
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='MotherlodeFrequency' avg=':= 0.85 * bopTopazFreq * if(age,age.bopTopazVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize' avg=':= 0.8 * bopTopazSize * _default_' range=':= 0.5 * bopTopazSize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 20/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel' type='normal'/>
                    <Setting name='BranchHeightLimit' avg='10'/>  
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_'/> 
                    <Setting name='BranchLength' avg=':= 0.75 * _default_' range=':= 0.66 * _default_'/>
                    <Setting name='SegmentRadius' avg=':= 0.7 * bopTopazSize * _default_' range=':= 0.5 * bopTopazSize * _default_'/>
                    <Setting name='SegmentAngle' avg='0.6' range='0.40' /> 
                    <Replaces block='stone'/>
                </Veins>
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopTopazClouds > 0, bopTopazDist = "strategicClouds")'>
                <Cloud name='bopTopazCloud' block='bop.amethystOre:6' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse Topaz cloud surrounded by single-block "hint" veins.
                    </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='DistributionFrequency' avg=':= 4.5 * bopTopazFreq * if(age,age.bopTopazClouds,1) * _default_'/>
                    <Setting name='CloudRadius' avg=':= 0.8 * bopTopazSize * _default_' range=':= 0.8 * bopTopazSize * _default_'/>
                    <Setting name='CloudThickness' avg=':= 0.8 * bopTopazSize * _default_' range=':= bopTopazSize * _default_'/>
                    <Setting name='OreDensity' avg=':= 0.3 * _default_'/> 
                    <Replaces block='stone'/>
                    <Veins name='bopTopazHintVeins' block='bop.amethystOre:6' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x60e25d21</WireframeColor>
                        <Setting name='MotherlodeFrequency' avg=':= 0.3 * _default_' range=':= _default_'/>
                        <Setting name='MotherlodeRangeLimit' avg=':= 0.75 * bopTopazSize * _default_' range=':= 0.65 * bopTopazSize * _default_'/>
                        <Replaces block='stone'/>
                    </Veins>             
                </Cloud>
            </IfCondition> 
        </ConfigSection>
        <ConfigSection>
        
            <IfCondition condition=':= if(age, age.bopTanzaniteClusters > 0, bopTanzaniteDist = "vanillaStdGen")'>
                <StandardGen name='bopTanzaniteStandard' block='bop.amethystOre:8' inherits='PresetStandardGen'> 
                    <Description> Equivalent to vanilla minecraft Tanzanite distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='Size' avg=':= bopTanzaniteSize * _default_'/> 
                    <Setting name='Frequency' avg=':= 0.1 * bopTanzaniteFreq * if(age,age.bopTanzaniteClusters,1) * _default_'/>
                    <Setting name='Height' avg=':= 16/64 * dimension.groundLevel' range=':= 16/64 * dimension.groundLevel'/>
                    <Replaces block='stone'/>
                </StandardGen> 
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopTanzaniteVeins > 0, bopTanzaniteDist = "layeredVeins")'>
                <Veins name='bopTanzaniteVeins' block='bop.amethystOre:8' inherits='PresetLayeredVeins'> 
                    <Description> 
                        Tanzanite spawns in the height 10-30 range.  The veins are shorter than average,
                        and much rarer overall.  Tanzanite is not easy to find.
                    </Description>  
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='MotherlodeFrequency' avg=':= 0.85 * bopTanzaniteFreq * if(age,age.bopTanzaniteVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize' avg=':= 0.8 * bopTanzaniteSize * _default_' range=':= 0.5 * bopTanzaniteSize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 20/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel' type='normal'/>
                    <Setting name='BranchHeightLimit' avg='10'/>  
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_'/> 
                    <Setting name='BranchLength' avg=':= 0.75 * _default_' range=':= 0.66 * _default_'/>
                    <Setting name='SegmentRadius' avg=':= 0.7 * bopTanzaniteSize * _default_' range=':= 0.5 * bopTanzaniteSize * _default_'/>
                    <Setting name='SegmentAngle' avg='0.6' range='0.40' /> 
                    <Replaces block='stone'/>
                </Veins>
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopTanzaniteClouds > 0, bopTanzaniteDist = "strategicClouds")'>
                <Cloud name='bopTanzaniteCloud' block='bop.amethystOre:8' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse Tanzanite cloud surrounded by single-block "hint" veins.
                    </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='DistributionFrequency' avg=':= 4.5 * bopTanzaniteFreq * if(age,age.bopTanzaniteClouds,1) * _default_'/>
                    <Setting name='CloudRadius' avg=':= 0.8 * bopTanzaniteSize * _default_' range=':= 0.8 * bopTanzaniteSize * _default_'/>
                    <Setting name='CloudThickness' avg=':= 0.8 * bopTanzaniteSize * _default_' range=':= bopTanzaniteSize * _default_'/>
                    <Setting name='OreDensity' avg=':= 0.3 * _default_'/> 
                    <Replaces block='stone'/>
                    <Veins name='bopTanzaniteHintVeins' block='bop.amethystOre:8' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x60e25d21</WireframeColor>
                        <Setting name='MotherlodeFrequency' avg=':= 0.3 * _default_' range=':= _default_'/>
                        <Setting name='MotherlodeRangeLimit' avg=':= 0.75 * bopTanzaniteSize * _default_' range=':= 0.65 * bopTanzaniteSize * _default_'/>
                        <Replaces block='stone'/>
                    </Veins>             
                </Cloud>
            </IfCondition> 
        </ConfigSection>
        <ConfigSection>
         
            <IfCondition condition=':= if(age, age.bopApatiteClusters > 0, bopApatiteDist = "vanillaStdGen")'>
                <StandardGen name='bopApatiteStandard' block='bop.amethystOre:10' inherits='PresetStandardGen'>
                    <Description> Equivalent to vanilla minecraft Apatite distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor>
                    <Setting name='Size' avg=':= 2 * bopApatiteSize * _default_'/> 
                    <Setting name='Frequency' avg=':= bopApatiteFreq * if(age,age.bopApatiteClusters,1) * _default_'/>
                    <Replaces block='stone'/>
                </StandardGen>
            </IfCondition>
            
            <IfCondition condition=':= if(age, age.bopApatiteVeins > 0, bopApatiteDist = "layeredVeins")'>
                <Veins name='bopApatiteVeins' block='bop.amethystOre:10' inherits='PresetSparseVeins'>
                    <Description>
                        Apatite spawns just near the surface, and up into hills and mountains.  The veins are
                        long and thick, but sparsely filled with ore and often broken up by caves or depressions
                        in the terrain.
                    </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor>
                    <Setting name='MotherlodeFrequency' avg=':= 10.7 * bopApatiteFreq * if(age,age.bopApatiteVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize' avg=':= bopApatiteSize * _default_' range=':= bopApatiteSize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 60/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel'/>
                    <Setting name='BranchLength' avg=':= 0.45 * _default_' range=':= 0.45 * _default_'/>
                    <Setting name='BranchInclination' avg='0' range='0.35'/>
                    <Setting name='BranchHeightLimit' avg='10'/>
                    <Setting name='SegmentRadius' avg=':= bopApatiteSize * _default_' range=':= bopApatiteSize * _default_'/>
                    <Setting name='OreDensity' avg=':= 1.75 * _default_' range=':= _default_'/>
                    <Replaces block='stone'/>
                </Veins>
                <Veins name='bopApatiteVeinsElevated' inherits='bopApatiteVeins'>
                    <Description>  This provides a second set of veins at the correct height to fill mountains.
                        The branches have more vertical range than the main distribution.</Description>
                    <Setting name='MotherlodeFrequency' avg=':= 1 * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 80/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel'/>
                    <Setting name='BranchHeightLimit' avg='32'/>
                    <Replaces block='stone'/>
                </Veins>
            </IfCondition>
            
            <IfCondition condition=':= if(age, age.bopApatiteClouds > 0, bopApatiteDist = "strategicClouds")'>
                <Cloud name='bopApatiteCloud' block='bop.amethystOre:10' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse Apatite cloud surrounded by single-block "hint" veins.
                    </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='DistributionFrequency' avg=':= 5 * bopApatiteFreq * if(age,age.bopApatiteClouds,1) * _default_'/>
                    <Setting name='CloudRadius' avg=':= 1.2 * bopApatiteSize * _default_' range=':= 1.2 * bopApatiteSize * _default_'/>
                    <Setting name='CloudThickness' avg=':= bopApatiteSize * _default_' range=':= bopApatiteSize * _default_'/>
                    <Setting name='OreDensity' avg=':= 0.75 * _default_'/>
                    <Replaces block='stone'/>
                    <Veins name='bopApatiteHintVeins' block='bop.amethystOre:10' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x60e25d21</WireframeColor>
                        <Setting name='MotherlodeFrequency' avg=':= 1.2 * _default_' range=':= _default_'/> 
                        <Setting name='MotherlodeRangeLimit' avg=':= bopApatiteSize * _default_' range=':= bopApatiteSize * _default_'/>
                        <Replaces block='stone'/>
                    </Veins>
                </Cloud>
            </IfCondition>
            
        </ConfigSection>
                    <ConfigSection>
        
            <IfCondition condition=':= if(age, age.bopSapphireClusters > 0, bopSapphireDist = "vanillaStdGen")'>
                <StandardGen name='bopSapphireStandard' block='bop.amethystOre:12' inherits='PresetStandardGen'> 
                    <Description> Equivalent to vanilla minecraft Sapphire distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='Size' avg=':= bopSapphireSize * _default_'/> 
                    <Setting name='Frequency' avg=':= 0.1 * bopSapphireFreq * if(age,age.bopSapphireClusters,1) * _default_'/>
                    <Setting name='Height' avg=':= 16/64 * dimension.groundLevel' range=':= 16/64 * dimension.groundLevel'/>
                    <Replaces block='stone'/>
                </StandardGen> 
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopSapphireVeins > 0, bopSapphireDist = "layeredVeins")'>
                <Veins name='bopSapphireVeins' block='bop.amethystOre:12' inherits='PresetLayeredVeins'> 
                    <Description> 
                        Sapphire spawns in the height 10-30 range.  The veins are shorter than average,
                        and much rarer overall.  Sapphire is not easy to find.
                    </Description>  
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='MotherlodeFrequency' avg=':= 0.85 * bopSapphireFreq * if(age,age.bopSapphireVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize' avg=':= 0.8 * bopSapphireSize * _default_' range=':= 0.5 * bopSapphireSize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 20/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel' type='normal'/>
                    <Setting name='BranchHeightLimit' avg='10'/>  
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_'/> 
                    <Setting name='BranchLength' avg=':= 0.75 * _default_' range=':= 0.66 * _default_'/>
                    <Setting name='SegmentRadius' avg=':= 0.7 * bopSapphireSize * _default_' range=':= 0.5 * bopSapphireSize * _default_'/>
                    <Setting name='SegmentAngle' avg='0.6' range='0.40' /> 
                    <Replaces block='stone'/>
                </Veins>
            </IfCondition>
                
            <IfCondition condition=':= if(age, age.bopSapphireClouds > 0, bopSapphireDist = "strategicClouds")'>
                <Cloud name='bopSapphireCloud' block='bop.amethystOre:12' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse Sapphire cloud surrounded by single-block "hint" veins.
                    </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x60e25d21</WireframeColor> 
                    <Setting name='DistributionFrequency' avg=':= 4.5 * bopSapphireFreq * if(age,age.bopSapphireClouds,1) * _default_'/>
                    <Setting name='CloudRadius' avg=':= 0.8 * bopSapphireSize * _default_' range=':= 0.8 * bopSapphireSize * _default_'/>
                    <Setting name='CloudThickness' avg=':= 0.8 * bopSapphireSize * _default_' range=':= bopSapphireSize * _default_'/>
                    <Setting name='OreDensity' avg=':= 0.3 * _default_'/> 
                    <Replaces block='stone'/>
                    <Veins name='bopSapphireHintVeins' block='bop.amethystOre:12' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x60e25d21</WireframeColor>
                        <Setting name='MotherlodeFrequency' avg=':= 0.3 * _default_' range=':= _default_'/>
                        <Setting name='MotherlodeRangeLimit' avg=':= 0.75 * bopSapphireSize * _default_' range=':= 0.65 * bopSapphireSize * _default_'/>
                        <Replaces block='stone'/>
                    </Veins>             
                </Cloud>
            </IfCondition> 
        </ConfigSection>

    </IfCondition>
        
</ConfigSection>